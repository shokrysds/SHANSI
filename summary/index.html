<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>فلش‌کارت لغات + آزمون | محمد شکری</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#f6f7fb; --card:#ffffff; --ink:#0f172a; --muted:#6b7280;
    --primary:#6366f1; --primary-2:#8b5cf6; --ok:#16a34a; --bad:#ef4444;
    --chip:#eef2ff; --ring:#e5e7eb; --rad:18px; --shadow:0 12px 24px rgba(0,0,0,.08);
    --grad: radial-gradient(1200px 600px at 100% -20%, #dbeafe 0%, transparent 60%),
            radial-gradient(900px 500px at -10% 0%, #ede9fe 0%, transparent 60%);
  }
  @media (prefers-color-scheme:dark){
    :root{
      --bg:#0b1220; --card:#0f172a; --ink:#e5e7eb; --muted:#9aa2b2;
      --ring:#1f2a44; --chip:#1e293b; --shadow:0 10px 24px rgba(0,0,0,.45);
      --grad: radial-gradient(1200px 600px at 100% -20%, #0b2a59 0%, transparent 60%),
              radial-gradient(900px 500px at -10% 0%, #3b0764 0%, transparent 60%);
    }
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);background-image:var(--grad);color:var(--ink);font:16px/1.7 Vazirmatn,IRANSansX,Segoe UI,Arial}
  .wrap{max-width:1100px;margin:auto;padding:20px}
  /* Header / Profile */
  .hero{
    position:relative;border-radius:24px;padding:22px 20px;background:
      linear-gradient(135deg, rgba(99,102,241,.10), rgba(139,92,246,.10));
    border:1px solid var(--ring); box-shadow:var(--shadow); overflow:hidden;
  }
  .badge{display:inline-flex;align-items:center;gap:8px;
    background:linear-gradient(135deg,var(--primary),var(--primary-2)); color:#fff;
    padding:8px 14px;border-radius:999px;font-weight:700;font-size:13px}
  .hero-inner{display:flex;gap:16px;align-items:center;margin-top:14px;flex-wrap:wrap}
  .avatar{
    width:64px;height:64px;border-radius:18px;background:
      linear-gradient(135deg,#a78bfa,#60a5fa); display:grid;place-items:center;
    color:#fff;font-weight:900;font-size:22px; box-shadow:0 8px 24px rgba(99,102,241,.35);
  }
  .title{font-size:22px;font-weight:900;margin:0}
  .sub{color:var(--muted);margin-top:4px}
  .chips{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
  .chip{background:var(--chip);padding:6px 10px;border-radius:999px;font-size:12px;color:#3730a3}
  /* Tabs */
  .tabs{display:flex;gap:8px;margin:18px 0 22px;flex-wrap:wrap;position:sticky;top:8px;z-index:5}
  .tabbtn{background:#fff;border:1px solid var(--ring);border-radius:12px;padding:10px 14px;cursor:pointer}
  .tabbtn.active{background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#fff;border-color:transparent}
  .panel{display:none}
  .panel.active{display:block}
  /* Controls + buttons */
  .controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:0 0 14px}
  input[type="search"]{flex:1;min-width:240px;padding:12px;border-radius:12px;border:1px solid var(--ring);background:var(--card);color:inherit}
  .btn{border:1px solid var(--ring);background:var(--card);padding:10px 14px;border-radius:12px;cursor:pointer;transition:.2s}
  .btn:hover{transform:translateY(-1px);box-shadow:0 8px 16px rgba(0,0,0,.08)}
  .btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary-2));border-color:transparent;color:#fff}
  .btn.ghost{background:transparent}
  /* Card */
  .card{
    background:var(--card); border:1px solid var(--ring); border-radius:var(--rad);
    padding:28px; box-shadow:var(--shadow); min-height:230px;
    display:grid; place-items:center; text-align:center; position:relative; perspective:1000px;
  }
  .face{position:absolute; inset:0; display:grid; place-items:center; padding:28px; backface-visibility:hidden; transition:transform .55s}
  .front{transform:rotateY(0)}
  .back{transform:rotateY(180deg)}
  .card.flipped .front{transform:rotateY(180deg)}
  .card.flipped .back{transform:rotateY(360deg)}
  .word{font-size:30px;font-weight:900}
  .pos{color:var(--muted);margin-top:6px}
  .fa{font-size:18px;margin-top:10px}
  .def{font-size:15px;margin-top:6px;color:var(--muted)}
  .ex{margin-top:12px;background:rgba(99,102,241,.08);border:1px dashed var(--ring);padding:10px;border-radius:12px}
  .toolbar{display:flex;justify-content:space-between;align-items:center;margin-top:12px;gap:8px;flex-wrap:wrap}
  .progress{font-size:13px;color:var(--muted)}
  .mark{display:flex;align-items:center;gap:6px}
  /* Quiz */
  .qcard{background:var(--card);border:1px solid var(--ring);border-radius:16px;box-shadow:var(--shadow);padding:18px}
  .qhead{display:flex;justify-content:space-between;gap:12px;align-items:center;margin-bottom:8px}
  .qtext{font-weight:800}
  .opts{display:grid;gap:8px;margin-top:8px}
  .opt{border:1px solid var(--ring);border-radius:12px;padding:10px 12px;background:var(--card);cursor:pointer}
  .opt.correct{border-color:var(--ok);background:rgba(22,163,74,.1)}
  .opt.wrong{border-color:var(--bad);background:rgba(239,68,68,.08)}
  .answer{margin-top:8px;font-size:14px;color:var(--muted)}
  .bar{height:8px;background:var(--ring);border-radius:999px;overflow:hidden}
  .bar>span{display:block;height:100%;background:linear-gradient(90deg,var(--primary),var(--primary-2));width:0%}
  footer{margin:26px 0 6px;color:var(--muted);font-size:13px;text-align:center}
</style>
</head>
<body>
<div class="wrap">

  <!-- Profile Header -->
  <section class="hero">
    <span class="badge">📚 فلش‌کارت لغات + آزمون</span>
    <div class="hero-inner">
      <div class="avatar">م‌ش</div>
      <div>
        <h1 class="title">محمد شکری — دوره ۷۴ کارشناسی</h1>
        <div class="sub">دانشگاه علوم پزشکی تهران</div>
        <div class="chips">
          <span class="chip">پرستاری</span>
          <span class="chip">یادگیری زبان</span>
          <span class="chip">فلش‌کارت و آزمون آنلاین</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tabbtn active" data-tab="flash">فلش‌کارت‌ها</button>
    <button class="tabbtn" data-tab="quiz">آزمون چهارگزینه‌ای</button>
  </div>

  <!-- Flashcards Panel -->
  <section id="flash" class="panel active">
    <div class="controls">
      <input id="search" type="search" placeholder="جستجوی لغت، ترجمه یا تعریف..." />
      <button id="shuffle" class="btn">🔀 شافل</button>
      <button id="prev" class="btn">⬅ قبلی</button>
      <button id="flip" class="btn primary">🔁 برگردان کارت</button>
      <button id="next" class="btn">بعدی ➡</button>
      <button id="onlyLearned" class="btn">✅ فقط یادگرفته‌ها</button>
      <span class="chip" id="learnedChip">یادگرفته‌ها: 0</span>
    </div>

    <div class="card" id="card">
      <div class="face front">
        <div>
          <div class="word" id="frontWord">word</div>
          <div class="pos" id="pos"></div>
        </div>
      </div>
      <div class="face back">
        <div>
          <div class="fa" id="fa">ترجمه فارسی</div>
          <div class="def" id="en">تعریف ساده انگلیسی</div>
          <div class="ex" id="ex">Example: ...</div>
        </div>
      </div>
    </div>

    <div class="toolbar">
      <div class="progress"><span id="idx">1</span>/<span id="total">-</span></div>
      <label class="mark"><input id="mark" type="checkbox" /> این کارت را «یاد گرفتم»</label>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button id="resetMarks" class="btn ghost">حذف علامت‌ها</button>
        <button id="exportLearned" class="btn">📥 خروجیِ یادگرفته‌ها</button>
      </div>
    </div>
  </section>

  <!-- Quiz Panel -->
  <section id="quiz" class="panel">
    <div class="controls">
      <button id="newQuiz" class="btn primary">📝 تولید آزمون جدید</button>
      <div class="chip">سؤال‌ها از آرایه <b>QUESTIONS</b> خوانده می‌شوند</div>
    </div>
    <div id="quizBox"></div>
    <div class="qcard" style="margin-top:14px">
      <div class="qhead"><div>پیشرفت آزمون</div><div id="scoreLabel">0 درست از 0</div></div>
      <div class="bar"><span id="bar" style="width:0%"></span></div>
    </div>
  </section>

  <footer>طراحی و پیاده‌سازی برای <b>محمد شکری</b> — دوره ۷۴ کارشناسی، دانشگاه علوم پزشکی تهران</footer>
</div>

<script>
/* ====== داده‌های فلش‌کارت ======
هر مورد: { word, fa, en, ex, pos }  — می‌تونی آزادانه اضافه/کم کنی.
*/
const VOCAB = [
  {word:'definition', fa:'تعریف', en:'The meaning of a word or idea.', ex:'What is the definition of "campus"?', pos:'noun'},
  {word:'campus', fa:'محوطه دانشگاه', en:'The land and buildings of a college.', ex:'There is a bus around the campus.', pos:'noun'},
  {word:'tutor', fa:'معلم خصوصی', en:'A teacher who helps one student.', ex:'I meet my tutor every Tuesday.', pos:'noun'},
  {word:'transportation', fa:'حمل‌ونقل', en:'Ways to move people or things.', ex:'Transportation on campus is easy.', pos:'noun'},
  {word:'entertainment', fa:'سرگرمی', en:'Things people do for fun.', ex:'The city has a lot of entertainment.', pos:'noun'},
  {word:'theater', fa:'تئاتر', en:'A place to watch plays or movies.', ex:'We went to the theater last night.', pos:'noun'},
  {word:'art gallery', fa:'گالری هنری', en:'A place to show art.', ex:'Students visited the art gallery.', pos:'noun'},
  {word:'shuttle', fa:'سرویس رفت‌وبرگشت', en:'A bus going back and forth.', ex:'Take the shuttle to the library.', pos:'noun'},
  {word:'dormitory (dorm)', fa:'خوابگاه', en:'A building where students live.', ex:'My dormitory is near the cafeteria.', pos:'noun'},
  {word:'population', fa:'جمعیت', en:'Number of people in a place.', ex:'The population of the city is growing.', pos:'noun'},
  {word:'prepare', fa:'آماده کردن', en:'To get something ready.', ex:'Prepare your notes for the exam.', pos:'verb'},
  {word:'release', fa:'آزاد/رها کردن', en:'Let something go free.', ex:'They released the bird.', pos:'verb'},
  {word:'predict', fa:'پیش‌بینی کردن', en:'Say what you think will happen.', ex:'Scientists predict rain tomorrow.', pos:'verb'},
  {word:'separate', fa:'جدا کردن', en:'Divide into parts.', ex:'Separate papers into two piles.', pos:'verb'},
  {word:'compare', fa:'مقایسه کردن', en:'Look to see same or different.', ex:'Compare these two phones.', pos:'verb'},
  {word:'wonderful', fa:'عالی', en:'Very good; great.', ex:'It was a wonderful day.', pos:'adj'},
  {word:'several', fa:'چندین', en:'More than two, not many.', ex:'I have several books.', pos:'adj'},
  {word:'similar to', fa:'شبیه به', en:'Almost the same as.', ex:'This city is similar to my town.', pos:'adj'},
  {word:'gourmet', fa:'غذای لوکس و باکیفیت', en:'Very high-quality food.', ex:'He cooked a gourmet meal.', pos:'adj'},
  {word:'huge', fa:'خیلی بزرگ', en:'Very, very big.', ex:'A huge stadium.', pos:'adj'},
  {word:'common', fa:'رایج', en:'Happening often.', ex:'It’s common to drink tea.', pos:'adj'},
  {word:'popular', fa:'محبوب', en:'Liked by many people.', ex:'Football is popular worldwide.', pos:'adj'},
  {word:'rarely', fa:'به‌ندرت', en:'Not often; almost never.', ex:'I rarely watch TV.', pos:'adv'},
  {word:'almost', fa:'تقریباً', en:'Very close, not completely.', ex:'It’s almost midnight.', pos:'adv'},
  {word:'throughout', fa:'در سراسر/تمام مدت', en:'In every part or the whole time.', ex:'It rained throughout the night.', pos:'prep'},
  {word:'during', fa:'در طول', en:'At the same time as.', ex:'No phones during class.', pos:'prep'},
  {word:'between', fa:'بینِ', en:'In the space/time of two things.', ex:'Between the bank and library.', pos:'prep'},
  {word:'put purchases on credit card', fa:'خرید را با کارت اعتباری حساب کردن', en:'Pay by credit card, not cash.', ex:'I put the book on my credit card.', pos:'phrase'},
  {word:'e-commerce', fa:'تجارت الکترونیک', en:'Buying and selling online.', ex:'E-commerce is growing fast.', pos:'noun'},
  {word:'journal', fa:'دفتر یادداشت', en:'Notebook to write ideas.', ex:'Write in your journal daily.', pos:'noun'},
  {word:'environment', fa:'محیط زیست', en:'The natural world around us.', ex:'Protect the environment.', pos:'noun'},
  {word:'hardships', fa:'سختی‌ها', en:'Difficult conditions in life.', ex:'They faced many hardships.', pos:'noun'},
  {word:'homelessness', fa:'بی‌خانمانی', en:'Having no home.', ex:'Homelessness is a serious issue.', pos:'noun'},
  {word:'mammals', fa:'پستانداران', en:'Animals that feed babies with milk.', ex:'Humans are mammals.', pos:'noun'},
  {word:'cypress', fa:'سرو', en:'A tall, thin tree.', ex:'A row of cypress trees.', pos:'noun'},
  {word:'elm', fa:'نارون', en:'A tree with wide leaves.', ex:'An old elm in the yard.', pos:'noun'},
  {word:'eucalyptus', fa:'اوکالیپتوس', en:'A tall tree with strong smell.', ex:'Koalas love eucalyptus leaves.', pos:'noun'},
  {word:'pine', fa:'کاج', en:'A tree with needles and cones.', ex:'Pine forests cover the hills.', pos:'noun'},
  {word:'seals', fa:'فک‌های دریایی', en:'Sea animals living on land and water.', ex:'We saw seals on the rocks.', pos:'noun'},
  {word:'sea lions', fa:'شیرهای دریایی', en:'Large sea mammals with loud voices.', ex:'Sea lions rested on the pier.', pos:'noun'},
  {word:'sea otters', fa:'سمورهای دریایی', en:'Small sea mammals with thick fur.', ex:'Sea otters float on their backs.', pos:'noun'},
  {word:'tough', fa:'سخت/دشوار', en:'Very difficult or strong.', ex:'A tough exam.', pos:'adj'},
  {word:'crime', fa:'جرم/جنایت', en:'An illegal act.', ex:'Stealing is a crime.', pos:'noun'},
  {word:'contrast', fa:'تضاد', en:'A clear difference.', ex:'Contrast between rich and poor.', pos:'noun'}
];

/* ====== نمونه‌سوال‌ها ====== */
const QUESTIONS = [
  { q:'معنی صحیح "tutor" چیست؟', choices:['فروشگاه','معلم خصوصی','اتوبوس','خوابگاه'], answer:1, explain:'tutor یعنی معلم خصوصی که به یک دانشجو کمک می‌کند.' },
  { q:'کدام گزینه معنی "transportation" است؟', choices:['سرگرمی','حمل‌ونقل','جمعیت','مرکز بهداشت'], answer:1, explain:'Transportation یعنی روش‌های جابه‌جایی.' },
  { q:'"gourmet" بیشتر درباره‌ی چه چیزی به‌کار می‌رود؟', choices:['غذای باکیفیت و لوکس','هوای بارانی','ورزش دشوار','درخت کاج'], answer:0, explain:'gourmet برای غذاهای بسیار باکیفیت است.' },
  { q:'کدام ترجمه برای "homelessness" درست است؟', choices:['محیط زیست','بی‌خانمانی','سختی‌ها','پستانداران'], answer:1, explain:'homelessness یعنی نبودن خانه.' },
  { q:'معنی "rarely" کدام است؟', choices:['معمولاً','به‌ندرت','سریع','تقریباً'], answer:1, explain:'rarely یعنی خیلی کم/به‌ندرت.' }
];

/* ====== منطق فلش‌کارت ====== */
let baseOrder = [...VOCAB.keys()];
let order = [...baseOrder];
let i = 0;
const card = document.getElementById('card');
const frontWord = document.getElementById('frontWord');
const posEl = document.getElementById('pos');
const faEl = document.getElementById('fa');
const enEl = document.getElementById('en');
const exEl = document.getElementById('ex');
const idxEl = document.getElementById('idx');
const totalEl = document.getElementById('total');
const mark = document.getElementById('mark');
const learnedChip = document.getElementById('learnedChip');
const search = document.getElementById('search');
const onlyLearnedBtn = document.getElementById('onlyLearned');

const learned = new Set(JSON.parse(localStorage.getItem('learned')||'[]'));
function saveLearned(){ localStorage.setItem('learned', JSON.stringify([...learned])); }
function updateLearnedChip(){ learnedChip.textContent = `یادگرفته‌ها: ${learned.size}`; }
updateLearnedChip();

function show(k){
  if(order.length === 0){ frontWord.textContent='هیچ موردی یافت نشد'; posEl.textContent=''; faEl.textContent=''; enEl.textContent=''; exEl.textContent=''; idxEl.textContent=0; totalEl.textContent=0; return; }
  i = (k+order.length)%order.length;
  const v = VOCAB[order[i]];
  frontWord.textContent = v.word;
  posEl.textContent = v.pos ? `(${v.pos})` : '';
  faEl.textContent = v.fa;
  enEl.textContent = v.en;
  exEl.textContent = 'Example: ' + v.ex;
  idxEl.textContent = i+1; totalEl.textContent = order.length;
  card.classList.remove('flipped');
  mark.checked = learned.has(v.word);
}
function shuffle(){
  for(let j=order.length-1;j>0;j--){
    const r = Math.floor(Math.random()*(j+1));
    [order[j],order[r]] = [order[r],order[j]];
  }
  show(0);
}
function next(){ show(i+1); }
function prev(){ show(i-1); }
document.getElementById('flip').onclick=()=>card.classList.toggle('flipped');
document.getElementById('next').onclick=next;
document.getElementById('prev').onclick=prev;
document.getElementById('shuffle').onclick=shuffle;
document.getElementById('resetMarks').onclick=()=>{
  learned.clear(); saveLearned(); updateLearnedChip(); show(i);
};
document.getElementById('exportLearned').onclick=()=>{
  const arr = VOCAB.filter(v=>learned.has(v.word));
  const blob = new Blob([JSON.stringify(arr, null, 2)], {type:'application/json'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob); a.download='learned_vocab.json'; a.click();
};
mark.onchange = ()=>{
  const w = VOCAB[order[i]].word;
  mark.checked ? learned.add(w) : learned.delete(w);
  saveLearned(); updateLearnedChip();
};
let showOnlyLearned = false;
onlyLearnedBtn.onclick=()=>{
  showOnlyLearned = !showOnlyLearned;
  onlyLearnedBtn.textContent = showOnlyLearned ? '✅ نمایش همه' : '✅ فقط یادگرفته‌ها';
  filterOrder();
};
function filterOrder(){
  const q = search.value.trim().toLowerCase();
  order = baseOrder.filter(idx=>{
    const v = VOCAB[idx];
    const text = [v.word,v.fa,v.en,(v.pos||''),(v.ex||'')].join(' ').toLowerCase();
    const match = text.includes(q);
    const inLearned = learned.has(v.word);
    return match && (!showOnlyLearned || inLearned);
  });
  show(0);
}
search.addEventListener('input', filterOrder);
show(0);

/* ====== آزمون ====== */
const quizBox = document.getElementById('quizBox');
const scoreLabel = document.getElementById('scoreLabel');
const bar = document.getElementById('bar');
function renderQuiz(){
  quizBox.innerHTML = '';
  let correct=0, total=0;
  QUESTIONS.forEach((Q,qi)=>{
    total++;
    const card = document.createElement('div'); card.className='qcard';
    const head = document.createElement('div'); head.className='qhead';
    head.innerHTML = `<div class="qtext">سؤال ${qi+1}: ${Q.q}</div>`;
    card.appendChild(head);

    const opts = document.createElement('div'); opts.className='opts';
    Q.choices.forEach((c,ci)=>{
      const b = document.createElement('button'); b.type='button';
      b.className='opt'; b.textContent=c;
      b.onclick = ()=>{
        [...opts.children].forEach(x=>x.disabled=true);
        if(ci===Q.answer){ b.classList.add('correct'); correct++; }
        else { b.classList.add('wrong'); opts.children[Q.answer].classList.add('correct'); }
        ans.style.display='block';
        scoreLabel.textContent = `${correct} درست از ${total}`;
        bar.style.width = `${Math.round(correct/total*100)}%`;
      };
      opts.appendChild(b);
    });
    const ans = document.createElement('div'); ans.className='answer'; ans.style.display='none';
    ans.textContent = 'توضیح: ' + (Q.explain||'');
    card.appendChild(opts);
    card.appendChild(ans);
    quizBox.appendChild(card);
  });
  scoreLabel.textContent = `0 درست از ${QUESTIONS.length}`;
  bar.style.width='0%';
}
renderQuiz();

/* ====== تب‌ها ====== */
document.querySelectorAll('.tabbtn').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.tabbtn').forEach(b=>b.classList.remove('active'));
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
    scroll({top:0,behavior:'smooth'});
  };
});
</script>
</body>
</html>
